<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Gallery</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }
    body {
      background: #0A0617;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      justify-content: center;
    }
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      max-width: 1000px;
      width: 100%;
    }
    .card {
      background: #111;
      border-radius: 20px;
      overflow: hidden;
      position: relative;
      transition: transform 0.3s;
      transform: scale(0.95);
      animation: fadeIn 0.8s ease forwards;
    }
    @keyframes fadeIn {
      to { transform: scale(1); }
    }
    .card:hover {
      transform: scale(1.02);
    }
    .card img {
      width: 100%;
      height: 400px;
      object-fit: cover;
      object-position: center top;
      display: block;
      transition: transform 0.5s;
    }
    .info {
      position: absolute;
      bottom: 50px;
      background: rgba(0, 0, 0, 0.6);
      width: 100%;
      padding: 10px;
      transform: translateY(100%);
      transition: transform 0.4s ease;
      color: white;
      pointer-events: none;
    }
    .card:hover .info {
      transform: translateY(0);
    }
    .info h1 {
      font-size: 18px;
      margin-bottom: 5px;
    }
    .info p {
      font-size: 14px;
      color: #ccc;
    }
    .counters {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: #0A0617;
      padding: 8px 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
    }
    .view-count, .like-count {
      font-size: 13px;
      color: #aaa;
    }
    .like-button {
      background: transparent;
      border: none;
      color: #ccc;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s;
      z-index: 20;
    }
    .like-button:hover {
      color: #ff4d4d;
    }

    /* Pop effect when clicked */
    .like-button.pop {
      transform: scale(1.5);
    }

    /* Responsive image adjustment for very small screens */
    @media(max-width: 500px) {
      .card img {
        height: 300px;
      }
    }
  </style>
</head>
<body>

<div class="gallery">

  <!-- Card 1 -->
  <div class="card" data-id="joyfull">
    <img src="IMG_20250406_141128_830.webp" alt="Joyfull">
    <div class="info">
      <h1>JOYFULL</h1>
      <p>Location: Mnarani (Eid-El-Fitri)</p>
    </div>
    <div class="counters">
      <span class="view-count">Views: 0</span>
      <button class="like-button" onclick="likePhoto(this)">❤️ <span class="like-count">0</span></button>
    </div>
  </div>

  <!-- Card 2 -->
  <div class="card" data-id="picture">
    <img src="IMG_20250418_130607_963.webp" alt="Picture Show">
    <div class="info">
      <h1>PICTURE SHOW</h1>
      <p>Location: Michenzani Mall</p>
    </div>
    <div class="counters">
      <span class="view-count">Views: 0</span>
      <button class="like-button" onclick="likePhoto(this)">❤️ <span class="like-count">0</span></button>
    </div>
  </div>

  <!-- Card 3 -->
  <div class="card" data-id="birthday">
    <img src="no 3.jpeg" alt="Happy Birthday">
    <div class="info">
      <h1>HAPPY BIRTHDAY</h1>
      <p>Location: Husein Academy</p>
    </div>
    <div class="counters">
      <span class="view-count">Views: 0</span>
      <button class="like-button" onclick="likePhoto(this)">❤️ <span class="like-count">0</span></button>
    </div>
  </div>

</div>

<script>
// Auto generate namespace from website name
const namespace = window.location.hostname.replace(/\./g, '-') || 'my-gallery';

// Load counters
document.querySelectorAll('.card').forEach(card => {
  const id = card.dataset.id;

  // Hit the views
  fetch(`https://api.countapi.xyz/hit/${namespace}/${id}_views`)
    .then(res => res.json())
    .then(data => {
      card.querySelector('.view-count').innerText = `Views: ${data.value}`;
    });

  // Get the likes
  fetch(`https://api.countapi.xyz/get/${namespace}/${id}_likes`)
    .then(res => res.json())
    .then(data => {
      card.querySelector('.like-count').innerText = data.value;
    });
});

// Like function
function likePhoto(button) {
  const card = button.closest('.card');
  const id = card.dataset.id;

  fetch(`https://api.countapi.xyz/hit/${namespace}/${id}_likes`)
    .then(res => res.json())
    .then(data => {
      button.querySelector('.like-count').innerText = data.value;

      // Add pop animation
      button.classList.add('pop');
      setTimeout(() => button.classList.remove('pop'), 300);
    });
}
</script>

</body>
</html>
